{"ast":null,"code":"const initialUser = {\n  firstName: localStorage.getItem(\"firstName\"),\n  lastName: localStorage.getItem(\"lastName\"),\n  gender: localStorage.getItem(\"gender\"),\n  email: localStorage.getItem(\"email\"),\n  phone: localStorage.getItem(\"phone\"),\n  address: {\n    city: localStorage.getItem(\"city\"),\n    state: localStorage.getItem(\"state\"),\n    country: localStorage.getItem(\"country\"),\n    pinCode: localStorage.getItem(\"pin\")\n  },\n  loginStatus: localStorage.getItem(\"token\") ? true : false\n};\nconst authReducerFun = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case \"LOAD_DATA\":\n      return initialUser;\n    case \"LOG_USER\":\n      (async payload => {\n        try {\n          const response = await userDetails({\n            ...payload\n          });\n          if ((response === null || response === void 0 ? void 0 : response.encodedToken) === undefined) throw response;else {\n            const {\n              encodedToken,\n              foundUser: {\n                firstName,\n                lastName,\n                email,\n                gender,\n                phone,\n                address: {\n                  city,\n                  state,\n                  country,\n                  pin\n                }\n              }\n            } = response;\n            localStorage.setItem(\"token\", encodedToken);\n            localStorage.setItem(\"firstName\", firstName);\n            localStorage.setItem(\"lastName\", lastName);\n            localStorage.setItem(\"email\", email);\n            localStorage.setItem(\"gender\", gender);\n            localStorage.setItem(\"city\", city);\n            localStorage.setItem(\"state\", state);\n            localStorage.setItem(\"country\", country);\n            localStorage.setItem(\"pin\", pin);\n            localStorage.setItem(\"phone\", phone);\n            return {\n              firstName: localStorage.getItem(\"firstName\"),\n              lastName: localStorage.getItem(\"lastName\"),\n              gender: localStorage.getItem(\"gender\"),\n              email: localStorage.getItem(\"email\"),\n              phone: localStorage.getItem(\"phone\"),\n              address: {\n                city: localStorage.getItem(\"city\"),\n                state: localStorage.getItem(\"state\"),\n                country: localStorage.getItem(\"country\"),\n                pinCode: localStorage.getItem(\"pin\")\n              },\n              loginStatus: localStorage.getItem(\"token\") ? true : false\n            };\n          }\n        } catch (e) {\n          console.log(e);\n        }\n      })();\n  }\n};","map":{"version":3,"names":["initialUser","firstName","localStorage","getItem","lastName","gender","email","phone","address","city","state","country","pinCode","loginStatus","authReducerFun","action","type","payload","response","userDetails","encodedToken","undefined","foundUser","pin","setItem","e","console","log"],"sources":["C:/Users/ayush/Documents/GitHub/E-commerce/e-commerce/src/frontend/reducers/authReducer.js"],"sourcesContent":["const initialUser = {\r\n  firstName: localStorage.getItem(\"firstName\"),\r\n  lastName: localStorage.getItem(\"lastName\"),\r\n  gender: localStorage.getItem(\"gender\"),\r\n  email: localStorage.getItem(\"email\"),\r\n  phone: localStorage.getItem(\"phone\"),\r\n  address: {\r\n    city: localStorage.getItem(\"city\"),\r\n    state: localStorage.getItem(\"state\"),\r\n    country: localStorage.getItem(\"country\"),\r\n    pinCode: localStorage.getItem(\"pin\"),\r\n  },\r\n  loginStatus:localStorage.getItem(\"token\") ? true : false\r\n};\r\nconst authReducerFun = (state, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"LOAD_DATA\":\r\n      return initialUser;\r\n    case \"LOG_USER\":\r\n      (async (payload) => {\r\n        try {\r\n          const response = await userDetails({...payload});\r\n          if (response?.encodedToken === undefined) throw response;\r\n          else {\r\n            const {\r\n              encodedToken,\r\n              foundUser: {\r\n                firstName,\r\n                lastName,\r\n                email,\r\n                gender,\r\n                phone,\r\n                address: { city, state, country, pin },\r\n              },\r\n            } = response;\r\n            localStorage.setItem(\"token\", encodedToken);\r\n            localStorage.setItem(\"firstName\", firstName);\r\n            localStorage.setItem(\"lastName\", lastName);\r\n            localStorage.setItem(\"email\", email);\r\n            localStorage.setItem(\"gender\", gender);\r\n            localStorage.setItem(\"city\", city);\r\n            localStorage.setItem(\"state\", state);\r\n            localStorage.setItem(\"country\", country);\r\n            localStorage.setItem(\"pin\", pin);\r\n            localStorage.setItem(\"phone\", phone);\r\n\r\n            return {\r\n                firstName: localStorage.getItem(\"firstName\"),\r\n                lastName: localStorage.getItem(\"lastName\"),\r\n                gender: localStorage.getItem(\"gender\"),\r\n                email: localStorage.getItem(\"email\"),\r\n                phone: localStorage.getItem(\"phone\"),\r\n                address: {\r\n                  city: localStorage.getItem(\"city\"),\r\n                  state: localStorage.getItem(\"state\"),\r\n                  country: localStorage.getItem(\"country\"),\r\n                  pinCode: localStorage.getItem(\"pin\"),\r\n                },\r\n                loginStatus:localStorage.getItem(\"token\") ? true : false\r\n              };\r\n          }\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      })();\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}