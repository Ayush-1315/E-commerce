{"ast":null,"code":"import _objectSpread from\"C:/Users/ayush/Documents/GitHub/E-commerce/e-commerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Server,Model,RestSerializer}from\"miragejs\";import{loginHandler,signupHandler}from\"./backend/controllers/AuthController\";import{addItemToCartHandler,getCartItemsHandler,removeItemFromCartHandler,updateCartItemHandler}from\"./backend/controllers/CartController\";import{getAllCategoriesHandler,getCategoryHandler}from\"./backend/controllers/CategoryController\";import{getAllProductsHandler,getProductHandler}from\"./backend/controllers/ProductController\";import{addItemToWishlistHandler,getWishlistItemsHandler,removeItemFromWishlistHandler}from\"./backend/controllers/WishlistController\";import{categories}from\"./backend/db/categories\";import{products}from\"./backend/db/products\";import{users}from\"./backend/db/users\";export function makeServer(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$environment=_ref.environment,environment=_ref$environment===void 0?\"development\":_ref$environment;return new Server({serializers:{application:RestSerializer},environment:environment,models:{product:Model,category:Model,user:Model,cart:Model,wishlist:Model},// Runs on the start of the server\nseeds:function seeds(server){// disballing console logs from Mirage\nserver.logging=false;products.forEach(function(item){server.create(\"product\",_objectSpread({},item));});users.forEach(function(item){return server.create(\"user\",_objectSpread(_objectSpread({},item),{},{cart:[],wishlist:[]}));});categories.forEach(function(item){return server.create(\"category\",_objectSpread({},item));});},routes:function routes(){this.namespace=\"api\";// auth routes (public)\nthis.post(\"/auth/signup\",signupHandler.bind(this));this.post(\"/auth/login\",loginHandler.bind(this));// products routes (public)\nthis.get(\"/products\",getAllProductsHandler.bind(this));this.get(\"/products/:productId\",getProductHandler.bind(this));// categories routes (public)\nthis.get(\"/categories\",getAllCategoriesHandler.bind(this));this.get(\"/categories/:categoryId\",getCategoryHandler.bind(this));// cart routes (private)\nthis.get(\"/user/cart\",getCartItemsHandler.bind(this));this.post(\"/user/cart\",addItemToCartHandler.bind(this));this.post(\"/user/cart/:productId\",updateCartItemHandler.bind(this));this.delete(\"/user/cart/:productId\",removeItemFromCartHandler.bind(this));// wishlist routes (private)\nthis.get(\"/user/wishlist\",getWishlistItemsHandler.bind(this));this.post(\"/user/wishlist\",addItemToWishlistHandler.bind(this));this.delete(\"/user/wishlist/:productId\",removeItemFromWishlistHandler.bind(this));}});}","map":{"version":3,"names":["Server","Model","RestSerializer","loginHandler","signupHandler","addItemToCartHandler","getCartItemsHandler","removeItemFromCartHandler","updateCartItemHandler","getAllCategoriesHandler","getCategoryHandler","getAllProductsHandler","getProductHandler","addItemToWishlistHandler","getWishlistItemsHandler","removeItemFromWishlistHandler","categories","products","users","makeServer","_ref","arguments","length","undefined","_ref$environment","environment","serializers","application","models","product","category","user","cart","wishlist","seeds","server","logging","forEach","item","create","_objectSpread","routes","namespace","post","bind","get","delete"],"sources":["C:/Users/ayush/Documents/GitHub/E-commerce/e-commerce/src/server.js"],"sourcesContent":["import { Server, Model, RestSerializer } from \"miragejs\";\r\nimport {\r\n  loginHandler,\r\n  signupHandler,\r\n} from \"./backend/controllers/AuthController\";\r\nimport {\r\n  addItemToCartHandler,\r\n  getCartItemsHandler,\r\n  removeItemFromCartHandler,\r\n  updateCartItemHandler,\r\n} from \"./backend/controllers/CartController\";\r\nimport {\r\n  getAllCategoriesHandler,\r\n  getCategoryHandler,\r\n} from \"./backend/controllers/CategoryController\";\r\nimport {\r\n  getAllProductsHandler,\r\n  getProductHandler,\r\n} from \"./backend/controllers/ProductController\";\r\nimport {\r\n  addItemToWishlistHandler,\r\n  getWishlistItemsHandler,\r\n  removeItemFromWishlistHandler,\r\n} from \"./backend/controllers/WishlistController\";\r\nimport { categories } from \"./backend/db/categories\";\r\nimport { products } from \"./backend/db/products\";\r\nimport { users } from \"./backend/db/users\";\r\n\r\nexport function makeServer({ environment = \"development\" } = {}) {\r\n  return new Server({\r\n    serializers: {\r\n      application: RestSerializer,\r\n    },\r\n    environment,\r\n    models: {\r\n      product: Model,\r\n      category: Model,\r\n      user: Model,\r\n      cart: Model,\r\n      wishlist: Model,\r\n    },\r\n\r\n    // Runs on the start of the server\r\n    seeds(server) {\r\n      // disballing console logs from Mirage\r\n      server.logging = false;\r\n      products.forEach((item) => {\r\n        server.create(\"product\", { ...item });\r\n      });\r\n\r\n      users.forEach((item) =>\r\n        server.create(\"user\", { ...item, cart: [], wishlist: [] })\r\n      );\r\n\r\n      categories.forEach((item) => server.create(\"category\", { ...item }));\r\n    },\r\n\r\n    routes() {\r\n      this.namespace = \"api\";\r\n      // auth routes (public)\r\n      this.post(\"/auth/signup\", signupHandler.bind(this));\r\n      this.post(\"/auth/login\", loginHandler.bind(this));\r\n\r\n      // products routes (public)\r\n      this.get(\"/products\", getAllProductsHandler.bind(this));\r\n      this.get(\"/products/:productId\", getProductHandler.bind(this));\r\n\r\n      // categories routes (public)\r\n      this.get(\"/categories\", getAllCategoriesHandler.bind(this));\r\n      this.get(\"/categories/:categoryId\", getCategoryHandler.bind(this));\r\n\r\n      // cart routes (private)\r\n      this.get(\"/user/cart\", getCartItemsHandler.bind(this));\r\n      this.post(\"/user/cart\", addItemToCartHandler.bind(this));\r\n      this.post(\"/user/cart/:productId\", updateCartItemHandler.bind(this));\r\n      this.delete(\r\n        \"/user/cart/:productId\",\r\n        removeItemFromCartHandler.bind(this)\r\n      );\r\n\r\n      // wishlist routes (private)\r\n      this.get(\"/user/wishlist\", getWishlistItemsHandler.bind(this));\r\n      this.post(\"/user/wishlist\", addItemToWishlistHandler.bind(this));\r\n      this.delete(\r\n        \"/user/wishlist/:productId\",\r\n        removeItemFromWishlistHandler.bind(this)\r\n      );\r\n    },\r\n  });\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}