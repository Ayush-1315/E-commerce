{"ast":null,"code":"import { userDetails } from \"../services/getUser\";\nconst initialUser = {\n  firstName: localStorage.getItem(\"firstName\"),\n  lastName: localStorage.getItem(\"lastName\"),\n  gender: localStorage.getItem(\"gender\"),\n  email: localStorage.getItem(\"email\"),\n  phone: localStorage.getItem(\"phone\"),\n  address: {\n    city: localStorage.getItem(\"city\"),\n    state: localStorage.getItem(\"state\"),\n    country: localStorage.getItem(\"country\"),\n    pinCode: localStorage.getItem(\"pin\")\n  },\n  loginStatus: localStorage.getItem(\"token\") ? true : false\n};\nconst authReducerFun = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case \"LOAD_DATA\":\n      return initialUser;\n    case \"LOG_USER\":\n      const data = (async () => {\n        try {\n          console.log(payload);\n          const response = await userDetails({\n            ...payload\n          });\n          if ((response === null || response === void 0 ? void 0 : response.encodedToken) === undefined) throw response;else {\n            const {\n              encodedToken,\n              foundUser: {\n                firstName,\n                lastName,\n                email,\n                gender,\n                phone,\n                address: {\n                  city,\n                  state,\n                  country,\n                  pin\n                }\n              }\n            } = response;\n            console.log(response);\n            localStorage.setItem(\"token\", encodedToken);\n            localStorage.setItem(\"firstName\", firstName);\n            localStorage.setItem(\"lastName\", lastName);\n            localStorage.setItem(\"email\", email);\n            localStorage.setItem(\"gender\", gender);\n            localStorage.setItem(\"city\", city);\n            localStorage.setItem(\"state\", state);\n            localStorage.setItem(\"country\", country);\n            localStorage.setItem(\"pin\", pin);\n            localStorage.setItem(\"phone\", phone);\n            return {\n              firstName,\n              lastName,\n              email,\n              gender,\n              phone,\n              city,\n              state,\n              country,\n              pin\n            };\n          }\n        } catch (e) {\n          console.log(e);\n        }\n      })();\n      return data.then(data => data);\n    default:\n      return {\n        ...state\n      };\n  }\n};\nexport { initialUser, authReducerFun };","map":{"version":3,"names":["userDetails","initialUser","firstName","localStorage","getItem","lastName","gender","email","phone","address","city","state","country","pinCode","loginStatus","authReducerFun","action","type","payload","data","console","log","response","encodedToken","undefined","foundUser","pin","setItem","e","then"],"sources":["C:/Users/ayush/Documents/GitHub/E-commerce/e-commerce/src/frontend/reducers/authReducer.js"],"sourcesContent":["import { userDetails } from \"../services/getUser\";\r\nconst initialUser = {\r\n  firstName: localStorage.getItem(\"firstName\"),\r\n  lastName: localStorage.getItem(\"lastName\"),\r\n  gender: localStorage.getItem(\"gender\"),\r\n  email: localStorage.getItem(\"email\"),\r\n  phone: localStorage.getItem(\"phone\"),\r\n  address: {\r\n    city: localStorage.getItem(\"city\"),\r\n    state: localStorage.getItem(\"state\"),\r\n    country: localStorage.getItem(\"country\"),\r\n    pinCode: localStorage.getItem(\"pin\"),\r\n  },\r\n  loginStatus: localStorage.getItem(\"token\") ? true : false,\r\n};\r\nconst authReducerFun = (state, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"LOAD_DATA\":\r\n      return initialUser;\r\n    case \"LOG_USER\":\r\n      const data=(async () => {\r\n        try {\r\n          console.log(payload);\r\n          const response = await userDetails({ ...payload });\r\n          if (response?.encodedToken === undefined) throw response;\r\n          else {\r\n            const {\r\n              encodedToken,\r\n              foundUser: {\r\n                firstName,\r\n                lastName,\r\n                email,\r\n                gender,\r\n                phone,\r\n                address: { city, state, country, pin },\r\n              },\r\n            } = response;\r\n            console.log(response);\r\n            localStorage.setItem(\"token\", encodedToken);\r\n            localStorage.setItem(\"firstName\", firstName);\r\n            localStorage.setItem(\"lastName\", lastName);\r\n            localStorage.setItem(\"email\", email);\r\n            localStorage.setItem(\"gender\", gender);\r\n            localStorage.setItem(\"city\", city);\r\n            localStorage.setItem(\"state\", state);\r\n            localStorage.setItem(\"country\", country);\r\n            localStorage.setItem(\"pin\", pin);\r\n            localStorage.setItem(\"phone\", phone);\r\n            return {firstName,lastName,email,gender,phone,city,state,country,pin};\r\n          }\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      })();\r\n      return data.then(data=>data);\r\n    default : \r\n    return {...state};\r\n  }\r\n};\r\nexport { initialUser, authReducerFun };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}